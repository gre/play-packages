# Maintainer: Gaetan Renaudeau <gre at zenexity dot com>
pkgname=playframework
pkgver=1.1
pkgrel=2
pkgdesc="An open source web application framework in Java which follows the MVC pattern."
url="http://www.playframework.org/"
arch=('any')
license=('APACHE')
depends=('jdk' 'python2')
backup=()
source=(http://download.playframework.org/releases/play-${pkgver}.zip python2fix.patch)
md5sums=('54513b11dc4eacd68d01f5c59bb8ec97' '967a191ca673aec93546640002c794ab')

provides=()
conflicts=()
optdepends=('apache-ant: A java-based build tool used to compile play framework.')

package() {
  mkdir -p $pkgdir/usr/share/
  mkdir -p $pkgdir/usr/share/licenses/$pkgname
  mkdir -p $pkgdir/usr/bin/
  cp -R $srcdir/play-${pkgver} $pkgdir/usr/share/playframework-${pkgver}
  cp $srcdir/play-${pkgver}/COPYING $pkgdir/usr/share/licenses/$pkgname/LICENSE
  
  # the python env is python2 on Arch Linux
  patch $pkgdir/usr/share/playframework-${pkgver}/play $srcdir/python2fix.patch
  
  ln -s /usr/share/playframework-${pkgver}/play $pkgdir/usr/bin/play
  install -d $pkgdir/usr/bin
  install -d $pkgdir/usr/share
}
